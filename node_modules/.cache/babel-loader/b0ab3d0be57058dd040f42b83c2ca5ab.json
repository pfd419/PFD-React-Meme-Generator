{"ast":null,"code":"import _defineProperty from\"D:\\\\Workspace\\\\Code\\\\ReactSample\\\\sample\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:\\\\Workspace\\\\Code\\\\ReactSample\\\\sample\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useContext,useReducer,useEffect}from\"react\";import{UserContext}from'../contexts/UserContext';function setUserNameReducer(state,value){return{id:state.id,name:value};}function useSetUserName(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$reducer=_ref.reducer,reducer=_ref$reducer===void 0?function(s,a){return a.changes;}:_ref$reducer;var userContext=useContext(UserContext);var _useReducer=useReducer(function(state,value){var changes=setUserNameReducer(state,value);return reducer(state,_objectSpread({},value,{changes:changes}));},userContext.user),_useReducer2=_slicedToArray(_useReducer,2),signedInUser=_useReducer2[0],dispatch=_useReducer2[1];var setUserName=function setUserName(value){return dispatch(value);};return{signedInUser:signedInUser,setUserName:setUserName};}function UserInput(){var userContext=useContext(UserContext);var _useSetUserName=useSetUserName({reducer:function reducer(signedInUser,value){return value.changes;}}),signedInUser=_useSetUserName.signedInUser,setUserName=_useSetUserName.setUserName;// Pass new state via context when selectedTheme has changed\nuseEffect(function(){if(userContext.user!==signedInUser){userContext.setUser(signedInUser);}});return React.createElement(\"section\",null,React.createElement(\"strong\",null,\"User Name: \"),React.createElement(\"input\",{type:\"text\",name:\"name\",onChange:function onChange(x){setUserName(x.target.value);},value:signedInUser?signedInUser.name:''}));}export default UserInput;","map":{"version":3,"sources":["D:\\Workspace\\Code\\ReactSample\\sample\\src\\components\\user-input.js"],"names":["React","useContext","useReducer","useEffect","UserContext","setUserNameReducer","state","value","id","name","useSetUserName","reducer","s","a","changes","userContext","user","signedInUser","dispatch","setUserName","UserInput","setUser","x","target"],"mappings":"0gCAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,UAA5B,CAAwCC,SAAxC,KAAyD,OAAzD,CACA,OAASC,WAAT,KAA4B,yBAA5B,CAEA,QAASC,CAAAA,kBAAT,CAA4BC,KAA5B,CAAmCC,KAAnC,CAA0C,CACtC,MAAO,CACHC,EAAE,CAAEF,KAAK,CAACE,EADP,CAEHC,IAAI,CAAEF,KAFH,CAAP,CAIH,CAED,QAASG,CAAAA,cAAT,EAAgE,oEAAJ,EAAI,mBAAtCC,OAAsC,CAAtCA,OAAsC,uBAA5B,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAACC,OAAZ,EAA4B,cAC5D,GAAMC,CAAAA,WAAW,CAAGd,UAAU,CAACG,WAAD,CAA9B,CAD4D,gBAG3BF,UAAU,CACvC,SAACI,KAAD,CAAQC,KAAR,CAAkB,CACd,GAAMO,CAAAA,OAAO,CAAGT,kBAAkB,CAACC,KAAD,CAAQC,KAAR,CAAlC,CACA,MAAOI,CAAAA,OAAO,CAACL,KAAD,kBAAaC,KAAb,EAAoBO,OAAO,CAAPA,OAApB,GAAd,CACH,CAJsC,CAKvCC,WAAW,CAACC,IAL2B,CAHiB,4CAGrDC,YAHqD,iBAGvCC,QAHuC,iBAW5D,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACZ,KAAD,QAAWW,CAAAA,QAAQ,CAACX,KAAD,CAAnB,EAApB,CAEA,MAAO,CAAEU,YAAY,CAAZA,YAAF,CAAgBE,WAAW,CAAXA,WAAhB,CAAP,CACH,CAED,QAASC,CAAAA,SAAT,EAAqB,CACjB,GAAML,CAAAA,WAAW,CAAGd,UAAU,CAACG,WAAD,CAA9B,CADiB,oBAEqBM,cAAc,CAAC,CACjDC,OADiD,kBACzCM,YADyC,CAC3BV,KAD2B,CACpB,CACzB,MAAOA,CAAAA,KAAK,CAACO,OAAb,CACH,CAHgD,CAAD,CAFnC,CAETG,YAFS,iBAETA,YAFS,CAEKE,WAFL,iBAEKA,WAFL,CAQjB;AACAhB,SAAS,CAAC,UAAM,CACZ,GAAIY,WAAW,CAACC,IAAZ,GAAqBC,YAAzB,CAAuC,CACnCF,WAAW,CAACM,OAAZ,CAAoBJ,YAApB,EACH,CACJ,CAJQ,CAAT,CAMA,MACI,oCACI,gDADJ,CAEI,6BACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,MAFT,CAGI,QAAQ,CAAG,kBAAAK,CAAC,CAAI,CAACH,WAAW,CAACG,CAAC,CAACC,MAAF,CAAShB,KAAV,CAAX,CAA4B,CAHjD,CAII,KAAK,CAAEU,YAAY,CAAGA,YAAY,CAACR,IAAhB,CAAuB,EAJ9C,EAFJ,CADJ,CAUH,CAGD,cAAeW,CAAAA,SAAf","sourcesContent":["import React, { useContext, useReducer, useEffect } from \"react\";\r\nimport { UserContext } from '../contexts/UserContext';\r\n\r\nfunction setUserNameReducer(state, value) {\r\n    return {\r\n        id: state.id,\r\n        name: value\r\n    }\r\n}\r\n\r\nfunction useSetUserName({ reducer = (s, a) => a.changes } = {}) {\r\n    const userContext = useContext(UserContext);\r\n\r\n    const [signedInUser, dispatch] = useReducer(\r\n        (state, value) => {\r\n            const changes = setUserNameReducer(state, value);\r\n            return reducer(state, { ...value, changes })\r\n        },\r\n        userContext.user\r\n    );\r\n\r\n    const setUserName = (value) => dispatch(value);\r\n\r\n    return { signedInUser, setUserName }\r\n}\r\n\r\nfunction UserInput() {\r\n    const userContext = useContext(UserContext);\r\n    const { signedInUser, setUserName } = useSetUserName({\r\n        reducer(signedInUser, value) {\r\n            return value.changes;\r\n        }\r\n    });\r\n\r\n    // Pass new state via context when selectedTheme has changed\r\n    useEffect(() => {\r\n        if (userContext.user !== signedInUser) {\r\n            userContext.setUser(signedInUser);\r\n        }\r\n    });\r\n\r\n    return (\r\n        <section>\r\n            <strong>User Name: </strong>\r\n            <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={(x => {setUserName(x.target.value)})}\r\n                value={signedInUser ? signedInUser.name : ''} />\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default UserInput;"]},"metadata":{},"sourceType":"module"}